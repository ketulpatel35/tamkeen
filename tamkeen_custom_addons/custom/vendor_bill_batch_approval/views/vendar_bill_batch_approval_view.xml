<?xml version="1.0" encoding="utf-8"?>
<odoo>

    <!-- Bill Batch Approval Tree View -->
    <record id="bill_batch_approval_tree_view" model="ir.ui.view">
        <field name="name">bill.batch.approval.tree.view</field>
        <field name="model">bill.batch.approval</field>
        <field name="arch" type="xml">
            <tree>
                <field name="name"/>
                <field name="date"/>
                <field name="reference"/>
                <field name="state"/>
            </tree>
        </field>
    </record>

    <!-- Bill Batch Approval Form View -->
    <record id="bill_batch_approval_from" model="ir.ui.view">
        <field name="name">bill.batch.approval.form.view</field>
        <field name="model">bill.batch.approval</field>
        <field name="arch" type="xml">
            <form string="Dam Levels">
                <header>
                    <button name="confirm_payment_amount" type="object"
                            confirm="Are you sure that you confirm payment Amount ?"
                            states="draft" string="Confirm"
                            class="oe_highlight"/>
                    <field name="state" widget="statusbar" readonly="1"/>
                </header>
                <sheet>
                    <group colspan="4" col="4">
                        <field name="name"
                               attrs="{'readonly':[('state','!=','draft')]}"/>
                        <field name="date"
                               attrs="{'readonly':[('state','!=','draft')]}"/>
                        <field name="reference"
                               attrs="{'readonly':[('state','!=','draft')]}"/>
                    </group>
                    <notebook>
                        <page string="Invoice Line">
                            <group>
                                <field name="inv_app_ids" nolabel="1">
                                    <tree editable="bottom" create="false"
                                          delete="false">
                                        <field name="invoice_id"
                                               invisible="1"/>
                                        <field name="bill_batch_app_id"
                                               invisible="1"/>
                                        <field name="confirm_amount"
                                               invisible="1"/>
                                        <field name="partner_id" readonly="1"/>
                                        <field name="date_invoice"
                                               readonly="1"/>
                                        <field name="number" readonly="1"/>
                                        <field name="reference" readonly="1"/>
                                        <field name="date_due" readonly="1"/>
                                        <field name="origin" readonly="1"/>
                                        <field name="amount_total"/>
                                        <field name="residual"/>
                                        <field name="payment_amount"
                                               attrs="{'readonly':[('confirm_amount', '!=', False)]}"/>
                                        <!--<field name="state"/>-->
                                    </tree>
                                </field>
                                <group class="oe_subtotal_footer oe_right">
                                    <field name="currency_id" invisible="1"/>
                                    <field name="total_pay"
                                           widget="monetary"
                                           options="{'currency_field': 'currency_id'}"
                                           class="oe_subtotal_footer_separator"/>
                                </group>
                            </group>
                        </page>
                        <page string="Vendor Payment"
                              attrs="{'invisible':[('state','in',['draft'])]}">
                            <group>
                                <field name="vendor_batch_payment_ids"
                                       nolabel="1">
                                    <tree editable="bottom" delete="false"
                                          create="false">
                                        <field name="bill_batch_app_id"
                                               invisible="1"/>
                                        <field name="partner_id" readonly="1"/>
                                        <field name="total_amount"/>
                                        <field name="total_due"/>
                                        <field name="total_pay"/>
                                        <field name="account_payment_id"
                                               readonly="1"/>
                                        <field name="is_batch" invisible="1"/>
                                        <button type="object"
                                                name="multi_invoice_registered_payment"
                                                string="Register Payment"
                                                attrs="{'invisible':[('account_payment_id','!=',False)]}"
                                                groups="account.group_account_invoice"/>
                                    </tree>
                                </field>
                            </group>
                        </page>
                    </notebook>
                </sheet>
                <div class="oe_chatter">
                    <field name="message_follower_ids" widget="mail_followers"/>
                    <field name="message_ids" widget="mail_thread"/>
                </div>
            </form>
        </field>
    </record>

    <!-- Bill Batch Approval Action View -->
    <record id="bill_batch_approval_action"
            model="ir.actions.act_window">
        <field name="name">Bill Batch Approval</field>
        <field name="res_model">bill.batch.approval</field>
        <field name="view_type">form</field>
        <field name="view_mode">tree,form</field>
    </record>

</odoo>